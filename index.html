<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè∞ Rampart - Arcade Game</title>
    <script src="../../arcade-theme-integration.js"></script>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="gameContainer">
        <header id="gameHeader">
            <h1>üè∞ RAMPART</h1>
            <div id="gameInfo">
                <div class="info-panel">
                    <span class="label">Score:</span>
                    <span id="score">0</span>
                </div>
                <div class="info-panel">
                    <span class="label">Vies:</span>
                    <span id="lives">3</span>
                </div>
                <div class="info-panel">
                    <span class="label">Round:</span>
                    <span id="round">1</span>
                </div>
                <div class="info-panel">
                    <span class="label">Temps:</span>
                    <span id="timer">--</span>
                </div>
            </div>
        </header>

        <main id="gameMain">
            <canvas id="gameCanvas" width="768" height="768"></canvas>
            
            <div id="gameUI">
                <div id="waveInfo" class="ui-panel">
                    <h3>√âtat de la vague</h3>
                    <div class="wave-stats">
                        <div class="stat-row">
                            <span>Vague:</span>
                            <span id="currentWave">-</span>
                        </div>
                        <div class="stat-row">
                            <span>Temps:</span>
                            <span id="waveTimer">-</span>
                        </div>
                        <div class="stat-row">
                            <span>Bateaux:</span>
                            <span id="enemyShips">0</span>
                        </div>
                        <div class="stat-row">
                            <span>Troupes:</span>
                            <span id="landUnits">0</span>
                        </div>
                    </div>
                </div>

                <div id="currentPiece" class="ui-panel">
                    <h3>Pi√®ce actuelle</h3>
                    <canvas id="piecePreview" width="128" height="128"></canvas>
                    <div class="controls-hint">
                        <p>üñ±Ô∏è Clic droit: Rotation</p>
                        <p>üñ±Ô∏è Clic gauche: Placer</p>
                    </div>
                </div>

                <div id="gameState" class="ui-panel">
                    <h3 id="phaseTitle">S√©lection territoire</h3>
                    <p id="phaseDescription">Choisissez votre ch√¢teau de d√©part</p>
                    <div id="phaseTimer">
                        <div class="timer-bar">
                            <div class="timer-fill"></div>
                        </div>
                    </div>
                </div>

                <div id="playerStats" class="ui-panel">
                    <h3>Statistiques</h3>
                    <div class="stat-row">
                        <span>Bateaux d√©truits:</span>
                        <span id="shipsDestroyed">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Canons plac√©s:</span>
                        <span id="cannonsPlaced">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Ch√¢teaux ferm√©s:</span>
                        <span id="castlesClosed">0</span>
                    </div>
                </div>
            </div>
        </main>

        <div id="menuOverlay" class="overlay hidden">
            <div class="menu-panel">
                <h2>üè∞ RAMPART</h2>
                <div class="menu-buttons">
                    <button id="startSolo" class="menu-btn primary">üéÆ Solo</button>
                    <button id="startMulti" class="menu-btn">üë• Multijoueur</button>
                    <button id="showControls" class="menu-btn">‚å®Ô∏è Contr√¥les</button>
                    <button id="showHighscores" class="menu-btn">üèÜ Scores</button>
                </div>
            </div>
        </div>

        <div id="controlsOverlay" class="overlay hidden">
            <div class="controls-panel">
                <h2>‚å®Ô∏è Configuration des contr√¥les</h2>
                <div class="player-configs">
                    <div class="player-config">
                        <h3>Joueur 1</h3>
                        <select id="player1Controls">
                            <option value="mouse">üñ±Ô∏è Souris</option>
                            <option value="keyboard_arrows">‚å®Ô∏è Fl√®ches</option>
                            <option value="keyboard_wasd">‚å®Ô∏è WASD</option>
                        </select>
                        <label>
                            <input type="checkbox" id="player1Active" checked> Actif
                        </label>
                    </div>
                    <div class="player-config">
                        <h3>Joueur 2</h3>
                        <select id="player2Controls">
                            <option value="keyboard_wasd">‚å®Ô∏è WASD</option>
                            <option value="keyboard_arrows">‚å®Ô∏è Fl√®ches</option>
                            <option value="keyboard_numpad">‚å®Ô∏è Pav√© num√©rique</option>
                        </select>
                        <label>
                            <input type="checkbox" id="player2Active"> Actif
                        </label>
                    </div>
                    <div class="player-config">
                        <h3>Joueur 3</h3>
                        <select id="player3Controls">
                            <option value="keyboard_numpad">‚å®Ô∏è Pav√© num√©rique</option>
                            <option value="keyboard_arrows">‚å®Ô∏è Fl√®ches</option>
                            <option value="keyboard_wasd">‚å®Ô∏è WASD</option>
                        </select>
                        <label>
                            <input type="checkbox" id="player3Active"> Actif
                        </label>
                    </div>
                </div>
                <button id="testControls" class="menu-btn">üéÆ Tester</button>
                <button id="saveControls" class="menu-btn primary">üíæ Sauvegarder</button>
                <button id="closeControls" class="menu-btn">‚ùå Fermer</button>
            </div>
        </div>

        <div id="gameOverOverlay" class="overlay hidden">
            <div class="gameover-panel">
                <h2 id="gameOverTitle">üèÅ Partie termin√©e</h2>
                <div id="finalStats" class="final-stats">
                    <div class="stat-line">
                        <span>Score final:</span>
                        <span id="finalScore">0</span>
                    </div>
                    <div class="stat-line">
                        <span>Round atteint:</span>
                        <span id="finalRound">1</span>
                    </div>
                    <div class="stat-line">
                        <span>Bateaux d√©truits:</span>
                        <span id="finalShips">0</span>
                    </div>
                </div>
                <div class="menu-buttons">
                    <button id="restartGame" class="menu-btn primary">üîÑ Rejouer</button>
                    <button id="backToMenu" class="menu-btn">üè† Menu</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js" type="module"></script>
</body>
</html>